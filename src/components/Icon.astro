---
/**
 * Icon component - Lucide icon wrapper with FA icon name mapping
 * Usage: <Icon name="check" class="w-5 h-5" />
 *
 * OPTIMIZED: Only imports icons actually used in the codebase
 * Run `grep -rh 'Icon name="' src/ | grep -oP 'name="\K[^"]+' | sort -u` to find used icons
 */
import {
  // Core UI icons (most frequently used)
  Check,
  CheckCircle,
  Star,
  Phone,
  Clock,
  ChevronDown,
  ChevronUp,
  ChevronRight,
  Calendar,
  CalendarCheck,
  CalendarDays,
  MapPin,
  Home,
  Shield,
  Medal,
  Heart,
  ArrowRight,
  ArrowUp,
  Lock,
  Mail,
  UserCheck,
  Tag,
  Leaf,
  Truck,
  Hammer,
  Building,
  Key,
  Sparkles,
  Wand2,
  RefreshCw,
  ExternalLink,
  Search,
  Filter,
  X,
  AlertCircle,
  AlertTriangle,
  FileText,
  Globe,
  List,
  Maximize2,
  Castle,
  type LucideIcon
} from 'lucide-astro';

interface Props {
  name: string;
  class?: string;
  size?: number;
  fill?: string;
}

const { name, class: className = 'w-5 h-5', size, fill } = Astro.props;

// Map FA icon names to Lucide components
// OPTIMIZED: Only includes icons actually used in the codebase (~40 vs 150+)
const iconMap: Record<string, LucideIcon> = {
  // Core UI icons
  'check': Check,
  'check-circle': CheckCircle,
  'circle-check': CheckCircle,
  'star': Star,
  'phone': Phone,
  'clock': Clock,
  'chevron-down': ChevronDown,
  'chevron-up': ChevronUp,
  'chevron-right': ChevronRight,
  'calendar': Calendar,
  'calendar-check': CalendarCheck,
  'calendar-alt': CalendarDays,
  'calendar-days': CalendarDays,

  // Location & navigation
  'map-marker-alt': MapPin,
  'map-marker': MapPin,
  'location-dot': MapPin,
  'home': Home,
  'house': Home,
  'arrow-right': ArrowRight,
  'arrow-up': ArrowUp,

  // Trust signals
  'shield-alt': Shield,
  'medal': Medal,
  'user-check': UserCheck,
  'venus': UserCheck,
  'lock': Lock,

  // Services
  'sparkles': Sparkles,
  'magic': Wand2,
  'wand-magic-sparkles': Wand2,
  'leaf': Leaf,
  'truck-moving': Truck,
  'truck': Truck,
  'hammer': Hammer,
  'building': Building,
  'key': Key,
  'heart': Heart,
  'redo': RefreshCw,

  // Communication
  'envelope': Mail,
  'tag': Tag,
  'external-link-alt': ExternalLink,
  'file-alt': FileText,

  // Search & filter
  'search': Search,
  'filter': Filter,
  'times': X,
  'xmark': X,
  'list': List,

  // Alerts
  'exclamation-circle': AlertCircle,
  'exclamation-triangle': AlertTriangle,
  'triangle-exclamation': AlertTriangle,

  // Brand icons (use Globe as fallback)
  'google': Globe,

  // Estate/luxury icons
  'expand-alt': Maximize2,
  'chess-rook': Castle,
};

const IconComponent = iconMap[name];
const sizeProps = size ? { width: size, height: size } : {};
const fillProps = fill ? { fill } : {};
---

{IconComponent ? (
  <IconComponent class={`inline-block align-middle ${className}`} {...sizeProps} {...fillProps} />
) : (
  <span class={`inline-block ${className}`} title={`Icon: ${name}`}>?</span>
)}
